<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>메리나 크리스마스 플레이어 v.1.4</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<script src="https://www.youtube.com/iframe_api"></script>

<style>
body {
  margin: 0;
  padding: 20px;
  background: #0e0e0e;
  color: #eee;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.container { max-width: 960px; margin: auto; }

/* ===== Neon ===== */
.neon-youtube {
  display: block;
  text-align: center;
  margin-bottom: 12px;
  font-family: "Pacifico", cursive;
  font-size: clamp(26px, 5vw, 38px);
  color: #ffb7d5;
  text-decoration: none;
  opacity: 0.25;
  transition: all 0.4s ease;
}
.neon-youtube.on {
  opacity: 1;
  text-shadow:
    0 0 4px #ff8ccf,
    0 0 10px #ff4fa3,
    0 0 20px #ff4fa3,
    0 0 40px rgba(255,79,163,0.9);
}

/* ===== TV ===== */
.tv {
  display: flex;
  justify-content: center;
  margin-bottom: 0;
}
.tv-frame {
  width: 100%;
  background: linear-gradient(145deg, #5a2f1a, #3b1f12);
  padding: 20px;
  border-radius: 22px 22px 12px 12px;
}
.tv-screen {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  background: black;
  border-radius: 14px;
  overflow: hidden;
}
iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* ===== Tabs (TV 아래에 붙은 느낌) ===== */
.tabs {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: -8px;              /* TV와 살짝 겹치게 */
  margin-bottom: 10px;
}
.tab {
  padding: 8px 18px;
  border-radius: 0 0 18px 18px;
  background: #1f1f1f;
  cursor: pointer;
  font-size: 0.85em;
  border-top: 2px solid #3b1f12;
}
.tab.active {
  background: #ff4fa3;
  color: #000;
  border-top-color: #ff4fa3;
}

/* ===== Info & Controls ===== */
.now-playing {
  font-size: 0.95em;
  color: #bbb;
  margin: 10px 4px;
}
.controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 22px;
}
button {
  background: #1f1f1f;
  color: #eee;
  border: none;
  padding: 11px 16px;
  border-radius: 8px;
  cursor: pointer;
}

/* ===== Playlist ===== */
.playlist-wrap {
  max-height: 45vh;
  overflow-y: auto;
}
.track {
  padding: 14px;
  background: #161616;
  border-radius: 8px;
  margin-bottom: 8px;
  cursor: pointer;
}
.track.active { background: #3a3a3a; }
.track span {
  font-size: 0.8em;
  color: #aaa;
}

/* ===== Footer ===== */
.presented-by {
  margin-top: 24px;
  text-align: center;
  font-size: 0.75em;
  color: #666;
}
.presented-by a {
  color: #888;
  text-decoration: none;
}
.presented-by a:hover {
  color: #ffb7d5;
}
</style>
</head>

<body>
<div class="container">

<a class="neon-youtube"
   href="https://www.youtube.com/@lenaparklive"
   target="_blank">▶ @lenaparklive</a>

<div class="tv">
  <div class="tv-frame">
    <div class="tv-screen">
      <div id="player"></div>
    </div>
  </div>
</div>

<!-- 탭: TV 바로 아래 -->
<div class="tabs">
  <div class="tab active" onclick="switchTab('A', this)">Playlist A</div>
  <div class="tab" onclick="switchTab('B', this)">Playlist B</div>
</div>

<div class="now-playing" id="nowPlaying">Now Playing: —</div>

<div class="controls">
  <button onclick="prevTrack()">◀ Prev</button>
  <button onclick="nextTrack()">Next ▶</button>
</div>

<div class="playlist-wrap" id="playlist"></div>

<div class="presented-by">
ⓒ <a href="https://blog.naver.com/readingstraws" target="_blank">박정현북클럽</a>
</div>

</div>

<script>
/* ===== 플레이리스트 ===== */
const tracksA = [
  { title:"White Christmas (Jazz Ver.)", note:"박정현", videoId:"f5V0PpyTXNI", start:95 }
];

const tracksB = [
  { title:"(탭 B 전용 영상)", note:"박정현", videoId:"JTU3MAD41_8", start:186 }
];

let activeTracks = tracksA;
let currentIndex = 0;
let player;

/* ===== YouTube ===== */
function onYouTubeIframeAPIReady() {
  player = new YT.Player("player", {
    videoId: activeTracks[0].videoId,
    events: {
      onReady: () => playTrack(0)
    }
  });
}

/* ===== 탭 전환 (안정화) ===== */
function switchTab(tab, el) {
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  el.classList.add("active");

  activeTracks = (tab === "A") ? tracksA : tracksB;
  currentIndex = 0;
  loadPlaylist();
  playTrack(0);
}

/* ===== 재생 ===== */
function playTrack(i) {
  currentIndex = i;
  const t = activeTracks[i];
  player.loadVideoById({
    videoId: t.videoId,
    startSeconds: t.start || 0
  });
  document.getElementById("nowPlaying").textContent =
    "Now Playing: " + t.title;
  updateActive();
}

function nextTrack() {
  currentIndex = (currentIndex + 1) % activeTracks.length;
  playTrack(currentIndex);
}
function prevTrack() {
  currentIndex = (currentIndex - 1 + activeTracks.length) % activeTracks.length;
  playTrack(currentIndex);
}

/* ===== Playlist UI ===== */
function loadPlaylist() {
  const pl = document.getElementById("playlist");
  pl.innerHTML = "";
  activeTracks.forEach((t,i)=>{
    const d = document.createElement("div");
    d.className = "track";
    d.innerHTML = `<strong>${t.title}</strong><br><span>${t.note}</span>`;
    d.onclick = () => playTrack(i);
    pl.appendChild(d);
  });
}

function updateActive() {
  document.querySelectorAll(".track").forEach((el,i)=>{
    el.classList.toggle("active", i === currentIndex);
  });
}

loadPlaylist();
</script>
</body>
</html>
