<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î©îÎ¶¨ÎÇò ÌÅ¨Î¶¨Ïä§ÎßàÏä§ ÌîåÎ†àÏù¥Ïñ¥ v.1.4</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<script src="https://www.youtube.com/iframe_api"></script>

<style>
body {
  margin: 0;
  padding: 20px;
  background: #0e0e0e;
  color: #eee;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.container {
  max-width: 960px;
  margin: auto;
}

/* ‚ú® Neon */
.neon-youtube {
  display: block;
  text-align: center;
  margin-bottom: 18px;
  font-family: "Pacifico", cursive;
  font-size: clamp(26px, 5vw, 38px);
  color: #ffb7d5;
  text-decoration: none;
  opacity: 0.25;
  transition: all 0.4s ease;
}

.neon-youtube.on {
  opacity: 1;
  text-shadow:
    0 0 4px #ff8ccf,
    0 0 10px #ff4fa3,
    0 0 20px #ff4fa3,
    0 0 40px rgba(255,79,163,0.9);
}

/* üì∫ TV */
.tv {
  display: flex;
  justify-content: center;
  margin-bottom: 14px;
}

.tv-frame {
  width: 100%;
  background: linear-gradient(145deg, #5a2f1a, #3b1f12);
  padding: 20px;
  border-radius: 22px;
}

.tv-screen {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  background: black;
  border-radius: 14px;
  overflow: hidden;
}

iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Guide */
.guide-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.88);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 5;
}

.guide-overlay img {
  max-width: 100%;
  max-height: 100%;
  border-radius: 12px;
}

/* Info */
.now-playing {
  font-size: 0.95em;
  color: #bbb;
  margin: 10px 4px;
}

/* Controls */
.controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 22px;
}

button {
  background: #1f1f1f;
  color: #eee;
  border: none;
  padding: 11px 16px;
  border-radius: 8px;
  cursor: pointer;
}

button.active {
  background: #444;
}

.info-btn {
  width: 42px;
  height: 42px;
  padding: 0;
  border-radius: 50%;
  font-size: 18px;
}

/* Playlist */
.playlist-wrap {
  max-height: 45vh;
  overflow-y: auto;
}

.track {
  padding: 14px;
  background: #161616;
  border-radius: 8px;
  margin-bottom: 8px;
  cursor: pointer;
}

.track.active { background: #3a3a3a; }

.track span {
  font-size: 0.8em;
  color: #aaa;
}

/* Footer */
.presented-by {
  margin-top: 24px;
  text-align: center;
  font-size: 0.75em;
  color: #666;
}
.presented-by a {
  color: #888;
  text-decoration: none;
}
.presented-by a:hover {
  color: #ffb7d5;
}

/* ===================== */
/* Tabs (Ï∂îÍ∞Ä) */
/* ===================== */
.tabs {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 14px;
}

.tab {
  background: #1f1f1f;
  color: #aaa;
  border: none;
  padding: 8px 14px;
  border-radius: 20px;
  cursor: pointer;
}

.tab.active {
  background: #ffb7d5;
  color: #000;
}

.player-tab {
  display: none;
}

.player-tab.active {
  display: block;
}
</style>
</head>

<body>
<div class="container">

<a class="neon-youtube"
   href="https://www.youtube.com/@lenaparklive"
   target="_blank">‚ñ∂ @lenaparklive</a>

<!-- Tabs -->
<div class="tabs">
  <button class="tab active" onclick="switchTab('a')">üéÑ Christmas</button>
  <button class="tab" onclick="switchTab('b')">üéß Other</button>
</div>

<div class="tv">

  <!-- Player A (Í∏∞Ï°¥) -->
  <div class="tv-frame player-tab active" id="tab-a">
    <div class="tv-screen">
      <div id="player"></div>
      <div id="guideOverlay" class="guide-overlay" onclick="hideGuide()">
        <img src="guide.jpg" alt="ÌîåÎ†àÏù¥Ïñ¥ ÏïàÎÇ¥">
      </div>
    </div>
  </div>

  <!-- Player B (Ï∂îÍ∞Ä) -->
  <div class="tv-frame player-tab" id="tab-b">
    <div class="tv-screen">
      <div id="playerB"></div>
    </div>
  </div>

</div>

<div class="now-playing" id="nowPlaying">Now Playing: ‚Äî</div>

<div class="controls">
  <button onclick="prevTrack()">‚óÄ Prev</button>
  <button onclick="nextTrack()">Next ‚ñ∂</button>
  <button id="shuffleBtn" onclick="toggleShuffle()">Shuffle</button>
  <button id="repeatBtn" onclick="toggleRepeat()">Repeat: OFF</button>
  <button class="info-btn" onclick="showGuide()">‚ÑπÔ∏è</button>
</div>

<div class="playlist-wrap" id="playlist"></div>

<div class="presented-by">
‚ìí <a href="https://blog.naver.com/readingstraws" target="_blank">Î∞ïÏ†ïÌòÑÎ∂ÅÌÅ¥ÎüΩ</a>
</div>

</div>

<script>
/* ===================== */
/* Player A tracks (ÏõêÎ≥∏ Í∑∏ÎåÄÎ°ú) */
/* ===================== */
const tracks = [
  { title:"White Christmas (Jazz Ver.)", note:"Î∞ïÏ†ïÌòÑ", videoId:"f5V0PpyTXNI", start:95 },
  { title:"Santa Tell Me", note:"Î∞ïÏ†ïÌòÑ", videoId:"UDJJnVyUvmA", start:149, end:365},
  { title:"Ïã±Ïà≠ÏÉùÏà≠", note:"Î∞ïÏ†ïÌòÑ & Îã§Ïù¥ÎÇòÎØπ ÎìÄÏò§", videoId:"C_zfF1xdYHQ", start:0, end:266 },
  { title:"It's a New Christmas", note:"015B with Î∞ïÏ†ïÌòÑ at ÎëêÏãúÌÉàÏ∂ú Ïª¨Ìà¨Ïáº(2025.12.23)", videoId:"cm_TMy6ghYg", start:0, end:194 },
  { title:"All I Want for Christmas Is You", note:"Î∞ïÏ†ïÌòÑ at ÌïúÏ§ëÍ∞ÄÏöîÏ†ú(2010.12.12)", videoId:"K04wfBmxB28", start:5 },
  { title:"Winter Kiss (MV)", note:"Î∞ïÏ†ïÌòÑ (feat. Î∞±Ï∞¨)", videoId:"Y-C9dZiWJaM", start:0 },
  { title:"Let It Snow", note:"Î∞ïÏ†ïÌòÑ at BMW Ïó∞Îßê ÏΩòÏÑúÌä∏((2022.12.17))", videoId:"rJ0uQ4bZ0WY", start:0 },
  { title:"Last Christmas", note:"Î∞ïÏ†ïÌòÑ & Îã§Ïù¥ÎÇòÎØπ ÎìÄÏò§ at Ïáº!ÎÆ§ÏßÅÌÉ±ÌÅ¨(2007.12.25)", videoId:"mLeMqtAa1PQ", start:0, end:267 },
  { title:"Santa Claus Is Coming to Town", note:"Î∞ïÏ†ïÌòÑ at Play! (2024.12.20)", videoId:"bdl5L0hYRtM", start:568, end:724 },
  { title:"ÌïòÏñÄÍ≤®Ïö∏ (MV)", note:"Î∞ïÏ†ïÌòÑ & ÍπÄÎ≤îÏàò", videoId:"er1RYWQf0Gc", start:0 },
  { title:"The First Noel", note:"Î∞ïÏ†ïÌòÑ at ÎÆ§ÏßÅÏ∫†ÌîÑ (2002.12.21)", videoId:"sgutlOIsYb0", start:0 },
  { title:"I'll Be Home for Christmas", note:"Î∞ïÏ†ïÌòÑ at Î≥ÑÏù¥ ÎπõÎÇòÎäî Î∞§Ïóê(2007.12.14)", videoId:"xiaUUFPLdc0", start:0, end:240},
  { title:"Have Yourself a Merry Little Christmas", note:"Î∞ïÏ†ïÌòÑ at BMW Ïó∞Îßê ÏΩòÏÑúÌä∏(2022.12.17)", videoId:"rrK7QmfnJ1o", start:0}
];

/* ===================== */
/* Player B tracks (Ï∂îÍ∞Ä) */
/* ===================== */
const tracksB = [
  {
    title: "ÎÖ∏ÎûòÌï†Í≤åÏöî (Serenade) ‚Äì Îã§Ïãú Í≤®Ïö∏Ïù¥Ïïº",
    note: "Î∞ïÏ†ïÌòÑ",
    videoId: "JTU3MAD41_8",
    start: 186
  }
];

let player;
let playerB;
let currentIndex = 0;
let shuffle = false;
let repeatMode = "off";
let endCheckInterval = null;

const playlistEl = document.getElementById("playlist");
const nowPlaying = document.getElementById("nowPlaying");
const shuffleBtn = document.getElementById("shuffleBtn");
const repeatBtn = document.getElementById("repeatBtn");
const neon = document.querySelector(".neon-youtube");

function neonFlash() {
  neon.classList.remove("on");
  void neon.offsetWidth;
  neon.classList.add("on");
}

function onYouTubeIframeAPIReady() {
  player = new YT.Player("player", {
    videoId: tracks[0].videoId,
    events: {
      onReady: () => playTrack(0),
      onStateChange: onPlayerStateChange
    }
  });

  playerB = new YT.Player("playerB", {
    videoId: tracksB[0].videoId,
    events: {
      onReady: () => {
        playerB.loadVideoById({
          videoId: tracksB[0].videoId,
          startSeconds: tracksB[0].start || 0
        });
        playerB.pauseVideo();
      }
    }
  });
}

function onPlayerStateChange(e) {
  if (e.data === YT.PlayerState.ENDED) {
    if (repeatMode === "one") {
      playTrack(currentIndex);
    } else {
      nextTrack();
    }
  }
}

function playTrack(i) {
  clearInterval(endCheckInterval);
  currentIndex = i;
  const t = tracks[i];

  player.loadVideoById({
    videoId: t.videoId,
    startSeconds: t.start || 0
  });

  if (t.end) {
    endCheckInterval = setInterval(() => {
      if (player.getCurrentTime() >= t.end) {
        clearInterval(endCheckInterval);
        if (repeatMode === "one") {
          playTrack(currentIndex);
        } else {
          nextTrack();
        }
      }
    }, 300);
  }

  nowPlaying.textContent = "Now Playing: " + t.title;
  neonFlash();
  updateActive();
}

function nextTrack() {
  if (shuffle) {
    let n;
    do { n = Math.floor(Math.random() * tracks.length); }
    while (n === currentIndex && tracks.length > 1);
    currentIndex = n;
  } else {
    currentIndex = (currentIndex + 1) % tracks.length;
  }
  playTrack(currentIndex);
}

function prevTrack() {
  currentIndex = (currentIndex - 1 + tracks.length) % tracks.length;
  playTrack(currentIndex);
}

function toggleShuffle() {
  shuffle = !shuffle;
  shuffleBtn.classList.toggle("active", shuffle);
}

function toggleRepeat() {
  repeatMode = repeatMode === "off" ? "one" : repeatMode === "one" ? "all" : "off";
  repeatBtn.textContent = "Repeat: " + repeatMode.toUpperCase();
  repeatBtn.classList.toggle("active", repeatMode !== "off");
}

function loadPlaylist() {
  tracks.forEach((t,i)=>{
    const d = document.createElement("div");
    d.className = "track";
    d.innerHTML = `<strong>${t.title}</strong><br><span>${t.note}</span>`;
    d.onclick = () => playTrack(i);
    playlistEl.appendChild(d);
  });
}

function updateActive() {
  document.querySelectorAll(".track").forEach((el,i)=>{
    el.classList.toggle("active", i === currentIndex);
  });
}

function showGuide() {
  document.getElementById("guideOverlay").style.display = "flex";
}
function hideGuide() {
  document.getElementById("guideOverlay").style.display = "none";
}

/* ===================== */
/* Tabs logic (Ï∂îÍ∞Ä) */
/* ===================== */
function switchTab(tab) {
  document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".player-tab").forEach(p=>p.classList.remove("active"));

  if (tab === "a") {
    document.getElementById("tab-a").classList.add("active");
    document.querySelector(".tab:nth-child(1)").classList.add("active");
    if (playerB) playerB.pauseVideo();
  } else {
    document.getElementById("tab-b").classList.add("active");
    document.querySelector(".tab:nth-child(2)").classList.add("active");
    if (player) player.pauseVideo();
  }
}

loadPlaylist();
</script>
</body>
</html>
